.\" Man page generated from reStructuredText.
.
.TH GROK-FSCK  "2013-04-26" "0.3" ""
.SH NAME
GROK-FSCK \- Create manifest for use with grokmirror
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
grok\-fsck \-c /path/to/fsck.conf
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
Git repositories can get corrupted whether they are frequently updated
or not, which is why it is useful to routinely check them using "git
fsck". Grokmirror ships with a "grok\-fsck" utility that will run "git
fsck" on all mirrored git repositories. It is supposed to be run
nightly from cron, and will do its best to randomly stagger the checks
so only a subset of repositories is checked each night. Any errors will
be sent to the user set in MAILTO.
.SH OPTIONS
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.TP
.B \-\-version
show program\(aqs version number and exit
.TP
.B \-h,  \-\-help
show this help message and exit
.TP
.B \-v,  \-\-verbose
Be verbose and tell us what you are doing
.TP
.B \-f,  \-\-force
Force immediate run on all repositories.
.TP
.BI \-c \ CONFIG, \ \-\-config\fB= CONFIG
Location of fsck.conf
.UNINDENT
.UNINDENT
.UNINDENT
.SH EXAMPLES
.sp
Locate fsck.conf and modify it to reflect your needs. The default
configuration file is heavily commented.
.sp
Set up a cron job to run nightly and to email any discovered errors to
root:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# Make sure MAILTO is set, for error reports
MAILTO=root
# Run nightly, at 2AM
00 02 * * * mirror /usr/bin/grok\-fsck \-c /etc/grokmirror/fsck.conf
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
You can force a full run using the \fB\-f\fP flag, but unless you only have
a few smallish git repositories, it\(aqs not recommended, as it may take
several hours to complete.
.SH SEE ALSO
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
grok\-manifest(1)
.IP \(bu 2
grok\-pull(1)
.IP \(bu 2
git(1)
.UNINDENT
.UNINDENT
.UNINDENT
.SH SUPPORT
.sp
Please send support requests to the mailing list:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
http://lists.kernel.org/mailman/listinfo/grokmirror
.ft P
.fi
.UNINDENT
.UNINDENT
.SH AUTHOR
mricon@kernel.org

License: GPLv3+
.SH COPYRIGHT
The Linux Foundation and contributors
.\" Generated by docutils manpage writer.
.
